
<div class="container">

  <div class="card text-center">
    {{!-- card header, contains Page title and subheading --}}
    <div class="card-header">
      <h1>Beer Ratings</h1>
      <hr class='my-4'>
        Delicious? Awful? Give it a rating!
      <hr class='my-4'>
      <br>
      <br>
      {{!-- add rating input form --}}
      <form id="add_rating" action="/ratings" method="POST">
        <div class="form-row justify-content-center">

          <div class="form-group col-md-3">
            <label for="user_id">User:</label>
            <select class="selectpicker" data-style="btn-info" data-live-search="true" name="user_id" required>
              <option value="" selected disabled>Please select</option>
              {{#each users}}
                <option data-tokens="{{this.username}}" value="{{this.user_id}}">{{this.username}}</option>
              {{/each}}
            </select>
          </div>

          <div class="form-group col-md-3">
            <label for="beer_id">Beer:</label>
            <select class="selectpicker" data-style="btn-info" data-live-search="true" name="beer_id" required>
              <option value="" selected disabled>Please select</option>
              {{#each beers}}
                <option data-tokens="{{this.beer_name}}" value="{{this.beer_id}}">{{this.beer_name}}</option>
              {{/each}}
            </select>
          </div>

          <div class="form-group col-md-3">
            <label for="rating2">Rating:</label>
              <div class="rating"> 
              <input type="radio" name="rating2" value="5" id="5"><label for="5">☆</label>
              <input type="radio" name="rating2" value="4" id="4"><label for="4">☆</label>
              <input type="radio" name="rating2" value="3" id="3"><label for="3">☆</label>
              <input type="radio" name="rating2" value="2" id="2"><label for="2">☆</label>
              <input type="radio" name="rating2" value="1" id="1"><label for="1">☆</label>
            </div>
          </div>

          <div class="form-group col-md-3 align-items-center">
            <input type="submit" class="btn btn-info" value="Submit">
          </div>

        </div>
      </form>
    </div>

    <br>

    {{!-- <div class="row">
      <div class="col-md-4 mx-auto">
        <p>Beer:</p>
      </div>
      <div class="col-md-4 mx-auto">
        <form action="/ratings" method="POST">
          <select class="selectpicker" data-live-search="true" onchange="javascript:this.form.submit()" name="beer_id">
            {{#each beers}}
              <option data-tokens="{{this.beer_name}}" value="{{this.beer_id}}">{{this.beer_name}}</option>
            {{/each}}
          </select>
        </form>
      </div>
    </div> --}}

    <br>
  
    <div class="card-body">
      <div class="row justify-content-center">
        <h3><b>Top 10</b></h3>
      </div>
      {{!-- contains the tables top rows --}}
      <table class="table table-sm table-hover">
        <thead>
          <tr>
            <th scope="col">Beer</th>
            <th scope="col">Rating</th>
          </tr>
        </thead>

        <tbody id="table-body">
          {{#each topratings}}
          <tr>
            <td scope="col">{{this.beer_name}}</td>
            <td scope="col">{{this.average_stars}}</td>
          </tr>
          {{/each}}
        </tbody>
      </table>
    </div>

  </div>

</div>